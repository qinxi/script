# ========================================
# Duolingo Premium - Quantumult X 配置
# ========================================
# 
# 使用方法:
# 1. 将脚本上传到可访问的 URL 或放入本地脚本目录
# 2. 将下面的配置添加到 Quantumult X 配置文件对应部分
# 3. 添加 MITM 主机名
# 4. 重启 Quantumult X 或刷新配置
#
# ========================================

# ============ [rewrite_local] ============
# 添加到 [rewrite_local] 部分 (本地脚本方式)
# 使用 script-analyze-echo-response 同时处理请求头和响应体

#^https://.*\.duolingo\.[^/]+/[0-9]{4}-[0-9]{2}-[0-9]{2}/batch url script-analyze-echo-response duolingo_app_sub.js


# ============ [rewrite_remote] ============
# 或者使用远程脚本方式，添加到 [rewrite_remote] 部分
# 将脚本上传到 GitHub/Gist 后使用以下格式:
# 
# https://raw.githubusercontent.com/qinxi/script/refs/heads/master/quantumult-x/rewrite/duolingo_app_rewrite.conf, tag=Duolingo APP Premium, opt-parser=true, update-interval=86400, enabled=true


# ============ [mitm] ============
# 添加到 [mitm] 部分的 hostname 列表
# 
# hostname = *.duolingo.com


# ========================================
# 完整配置示例 (复制到 Quantumult X 配置文件)
# ========================================

[rewrite_local]
# Duolingo Premium 订阅伪装
# 使用 script-analyze-echo-response: 脚本自己发送请求并处理响应
^https://.*\.duolingo\.[^/]+/[0-9]{4}-[0-9]{2}-[0-9]{2}/batch url script-analyze-echo-response https://raw.githubusercontent.com/qinxi/script/refs/heads/master/quantumult-x/scripts/duolingo_app_sub.js

[mitm]
hostname = *.duolingo.com
